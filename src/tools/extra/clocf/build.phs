include_stdsys();
include_stdio();
include_stdstr();
include_stdfile();
include_stdtype();

fn buildPHSB(input: string, output: string) -> bool {
    var cmd = sb_new();
    sb_append(cmd, "phasorcompiler --no-logo -o ");
    sb_append(cmd, output);
    sb_append(cmd, " ");
    sb_append(cmd, input);
    putf("Building Phasor Binary: %s -> %s", input, output);
    return to_bool(sys_execute(sb_to_string(cmd)));
}

if (!fcd("src/tools/extra/clocf")) {
	puts("Could not find src/tools/extra/clocf!"); 
	shutdown(1);
}
var src = "native/clocf.phs";
var dst = "../../../../clocf.phsb";

shutdown(!buildPHSB(src, dst));